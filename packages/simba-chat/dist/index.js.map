{"version":3,"sources":["../src/components/SimbaChat.tsx","../src/utils/cn.ts","../src/hooks/useSimbaChat.ts","../src/components/ChatContainer.tsx","../src/components/MarkdownContent.tsx","../src/components/ChatMessage.tsx","../src/components/ChatInput.tsx","../src/components/SimbaChatBubble.tsx"],"sourcesContent":["import { useState } from \"react\";\nimport { cn } from \"../utils/cn\";\nimport { useSimbaChat } from \"../hooks/useSimbaChat\";\nimport { ChatContainer } from \"./ChatContainer\";\nimport { ChatMessage } from \"./ChatMessage\";\nimport { ChatInput } from \"./ChatInput\";\nimport type { SimbaChatProps } from \"../types\";\n\nexport function SimbaChat({\n  apiUrl,\n  apiKey,\n  organizationId,\n  collection,\n  placeholder = \"Type a message...\",\n  className,\n  style,\n  onError,\n  onMessage,\n}: SimbaChatProps) {\n  const [inputValue, setInputValue] = useState(\"\");\n\n  const { messages, status, sendMessage, stop, clear } = useSimbaChat({\n    apiUrl,\n    apiKey,\n    organizationId,\n    collection,\n    onError,\n    onMessage,\n  });\n\n  const handleSubmit = () => {\n    if (inputValue.trim()) {\n      sendMessage(inputValue);\n      setInputValue(\"\");\n    }\n  };\n\n  const isStreaming = status === \"streaming\";\n  const lastMessageId = messages[messages.length - 1]?.id;\n\n  return (\n    <div className={cn(\"simba-chat\", className)} style={style}>\n      <ChatContainer>\n        {messages.length === 0 ? (\n          <div className=\"simba-chat-empty\">\n            <div className=\"simba-chat-empty-icon\">\n              <svg\n                viewBox=\"0 0 24 24\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                strokeWidth=\"1.5\"\n              >\n                <path d=\"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z\" />\n              </svg>\n            </div>\n            <p className=\"simba-chat-empty-text\">Start a conversation</p>\n          </div>\n        ) : (\n          messages.map((message) => (\n            <ChatMessage\n              key={message.id}\n              message={message}\n              isStreaming={isStreaming && message.id === lastMessageId}\n            />\n          ))\n        )}\n      </ChatContainer>\n\n      <div className=\"simba-chat-footer\">\n        <ChatInput\n          value={inputValue}\n          onChange={setInputValue}\n          onSubmit={handleSubmit}\n          onStop={stop}\n          status={status}\n          placeholder={placeholder}\n        />\n      </div>\n    </div>\n  );\n}\n","import { clsx, type ClassValue } from \"clsx\";\n\nexport function cn(...inputs: ClassValue[]) {\n  return clsx(inputs);\n}\n","import { useCallback, useRef, useState } from \"react\";\nimport type {\n  ChatMessage,\n  ChatStatus,\n  SSEEvent,\n  UseSimbaChatOptions,\n  UseSimbaChatReturn,\n} from \"../types\";\n\nexport function useSimbaChat(options: UseSimbaChatOptions): UseSimbaChatReturn {\n  const { apiUrl, apiKey, organizationId, collection, onError, onMessage } = options;\n\n  const [messages, setMessages] = useState<ChatMessage[]>([]);\n  const [status, setStatus] = useState<ChatStatus>(\"ready\");\n  const [conversationId, setConversationId] = useState<string | null>(null);\n  const abortControllerRef = useRef<AbortController | null>(null);\n\n  const parseSSEEvent = (line: string): SSEEvent | null => {\n    if (!line.startsWith(\"data: \")) return null;\n    try {\n      return JSON.parse(line.slice(6)) as SSEEvent;\n    } catch {\n      return null;\n    }\n  };\n\n  const sendMessage = useCallback(\n    async (content: string) => {\n      if (!content.trim() || status === \"streaming\") return;\n\n      // Cancel any existing request\n      if (abortControllerRef.current) {\n        abortControllerRef.current.abort();\n      }\n      abortControllerRef.current = new AbortController();\n\n      const userMessage: ChatMessage = {\n        id: crypto.randomUUID(),\n        role: \"user\",\n        content: content.trim(),\n        createdAt: new Date(),\n      };\n\n      setMessages((prev) => [...prev, userMessage]);\n      setStatus(\"submitted\");\n\n      const assistantMessageId = crypto.randomUUID();\n      const assistantMessage: ChatMessage = {\n        id: assistantMessageId,\n        role: \"assistant\",\n        content: \"\",\n        createdAt: new Date(),\n      };\n\n      setMessages((prev) => [...prev, assistantMessage]);\n\n      try {\n        const headers: Record<string, string> = {\n          \"Content-Type\": \"application/json\",\n          \"X-Organization-Id\": organizationId,\n        };\n        if (apiKey) {\n          headers.Authorization = `Bearer ${apiKey}`;\n        }\n\n        const response = await fetch(\n          `${apiUrl}/api/v1/conversations/chat/stream`,\n          {\n            method: \"POST\",\n            headers,\n            body: JSON.stringify({\n              content: userMessage.content,\n              conversation_id: conversationId,\n              collection: collection,\n            }),\n            signal: abortControllerRef.current.signal,\n          }\n        );\n\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n\n        // Update conversation ID from response header\n        const newConversationId = response.headers.get(\"X-Conversation-Id\");\n        if (newConversationId && !conversationId) {\n          setConversationId(newConversationId);\n        }\n\n        setStatus(\"streaming\");\n\n        const reader = response.body?.getReader();\n        if (!reader) throw new Error(\"No response body\");\n\n        const decoder = new TextDecoder();\n        let buffer = \"\";\n        let currentContent = \"\";\n\n        while (true) {\n          const { done, value } = await reader.read();\n          if (done) break;\n\n          buffer += decoder.decode(value, { stream: true });\n          const lines = buffer.split(\"\\n\");\n          buffer = lines.pop() || \"\";\n\n          for (const line of lines) {\n            const event = parseSSEEvent(line);\n            if (!event) continue;\n\n            switch (event.type) {\n              case \"content\":\n                currentContent += event.content || \"\";\n                setMessages((prev) =>\n                  prev.map((msg) =>\n                    msg.id === assistantMessageId\n                      ? { ...msg, content: currentContent }\n                      : msg\n                  )\n                );\n                break;\n\n              case \"error\":\n                const errorMsg = event.message || \"An error occurred\";\n                setMessages((prev) =>\n                  prev.map((msg) =>\n                    msg.id === assistantMessageId\n                      ? { ...msg, content: errorMsg }\n                      : msg\n                  )\n                );\n                onError?.(new Error(errorMsg));\n                break;\n\n              case \"done\":\n                setStatus(\"ready\");\n                const finalMessage: ChatMessage = {\n                  id: assistantMessageId,\n                  role: \"assistant\",\n                  content: currentContent,\n                  createdAt: new Date(),\n                };\n                onMessage?.(finalMessage);\n                break;\n            }\n          }\n        }\n      } catch (error) {\n        if ((error as Error).name === \"AbortError\") {\n          setStatus(\"ready\");\n          return;\n        }\n\n        setStatus(\"error\");\n        const errorMessage =\n          error instanceof Error ? error.message : \"An error occurred\";\n\n        setMessages((prev) =>\n          prev.map((msg) =>\n            msg.id === assistantMessageId\n              ? {\n                  ...msg,\n                  content: \"Sorry, an error occurred. Please try again.\",\n                }\n              : msg\n          )\n        );\n\n        onError?.(error instanceof Error ? error : new Error(errorMessage));\n      }\n    },\n    [\n      apiUrl,\n      apiKey,\n      organizationId,\n      collection,\n      conversationId,\n      status,\n      onError,\n      onMessage,\n    ]\n  );\n\n  const stop = useCallback(() => {\n    if (abortControllerRef.current) {\n      abortControllerRef.current.abort();\n      abortControllerRef.current = null;\n    }\n    setStatus(\"ready\");\n  }, []);\n\n  const clear = useCallback(() => {\n    setMessages([]);\n    setConversationId(null);\n    setStatus(\"ready\");\n  }, []);\n\n  return {\n    messages,\n    status,\n    sendMessage,\n    stop,\n    clear,\n  };\n}\n","import { useRef, useEffect, type ReactNode } from \"react\";\nimport { cn } from \"../utils/cn\";\n\ninterface ChatContainerProps {\n  children: ReactNode;\n  className?: string;\n  autoScroll?: boolean;\n}\n\nexport function ChatContainer({\n  children,\n  className,\n  autoScroll = true,\n}: ChatContainerProps) {\n  const scrollRef = useRef<HTMLDivElement>(null);\n  const isAtBottomRef = useRef(true);\n\n  const scrollToBottom = () => {\n    if (scrollRef.current) {\n      scrollRef.current.scrollTop = scrollRef.current.scrollHeight;\n    }\n  };\n\n  const handleScroll = () => {\n    if (!scrollRef.current) return;\n    const { scrollTop, scrollHeight, clientHeight } = scrollRef.current;\n    const distanceFromBottom = scrollHeight - scrollTop - clientHeight;\n    isAtBottomRef.current = distanceFromBottom < 100;\n  };\n\n  useEffect(() => {\n    if (autoScroll && isAtBottomRef.current) {\n      scrollToBottom();\n    }\n  }, [children, autoScroll]);\n\n  return (\n    <div\n      ref={scrollRef}\n      className={cn(\"simba-chat-container\", className)}\n      onScroll={handleScroll}\n    >\n      <div className=\"simba-chat-messages\">{children}</div>\n    </div>\n  );\n}\n","import ReactMarkdown from \"react-markdown\";\nimport { cn } from \"../utils/cn\";\n\ninterface MarkdownContentProps {\n  content: string;\n  className?: string;\n}\n\nexport function MarkdownContent({ content, className }: MarkdownContentProps) {\n  return (\n    <div className={cn(\"simba-markdown\", className)}>\n      <ReactMarkdown\n        components={{\n          p: ({ children }) => (\n            <p className=\"simba-markdown-p\">{children}</p>\n          ),\n          a: ({ href, children }) => (\n            <a\n              href={href}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"simba-markdown-link\"\n            >\n              {children}\n            </a>\n          ),\n          ul: ({ children }) => (\n            <ul className=\"simba-markdown-ul\">{children}</ul>\n          ),\n          ol: ({ children }) => (\n            <ol className=\"simba-markdown-ol\">{children}</ol>\n          ),\n          li: ({ children }) => (\n            <li className=\"simba-markdown-li\">{children}</li>\n          ),\n          code: ({ children, className }) => {\n            const isInline = !className;\n            return isInline ? (\n              <code className=\"simba-markdown-code-inline\">{children}</code>\n            ) : (\n              <code className=\"simba-markdown-code-block\">{children}</code>\n            );\n          },\n          pre: ({ children }) => (\n            <pre className=\"simba-markdown-pre\">{children}</pre>\n          ),\n          blockquote: ({ children }) => (\n            <blockquote className=\"simba-markdown-blockquote\">\n              {children}\n            </blockquote>\n          ),\n        }}\n      >\n        {content}\n      </ReactMarkdown>\n    </div>\n  );\n}\n","import { cn } from \"../utils/cn\";\nimport { MarkdownContent } from \"./MarkdownContent\";\nimport type { ChatMessage as ChatMessageType } from \"../types\";\n\ninterface ChatMessageProps {\n  message: ChatMessageType;\n  isStreaming?: boolean;\n  className?: string;\n}\n\nfunction formatTime(date: Date): string {\n  return date.toLocaleTimeString([], { hour: \"2-digit\", minute: \"2-digit\" });\n}\n\nexport function ChatMessage({\n  message,\n  isStreaming,\n  className,\n}: ChatMessageProps) {\n  const isUser = message.role === \"user\";\n\n  return (\n    <div\n      className={cn(\n        \"simba-message\",\n        isUser ? \"simba-message-user\" : \"simba-message-assistant\",\n        className\n      )}\n    >\n      <div className=\"simba-message-avatar\">\n        {isUser ? (\n          <svg\n            className=\"simba-message-avatar-icon\"\n            viewBox=\"0 0 24 24\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            strokeWidth=\"2\"\n          >\n            <path d=\"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2\" />\n            <circle cx=\"12\" cy=\"7\" r=\"4\" />\n          </svg>\n        ) : (\n          <svg\n            className=\"simba-message-avatar-icon\"\n            viewBox=\"0 0 24 24\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            strokeWidth=\"2\"\n          >\n            <path d=\"M12 8V4H8\" />\n            <rect width=\"16\" height=\"12\" x=\"4\" y=\"8\" rx=\"2\" />\n            <path d=\"M2 14h2\" />\n            <path d=\"M20 14h2\" />\n            <path d=\"M15 13v2\" />\n            <path d=\"M9 13v2\" />\n          </svg>\n        )}\n      </div>\n\n      <div className=\"simba-message-content\">\n        <div className=\"simba-message-header\">\n          <span className=\"simba-message-author\">\n            {isUser ? \"You\" : \"Assistant\"}\n          </span>\n          <span className=\"simba-message-time\">{formatTime(message.createdAt)}</span>\n        </div>\n\n        <div className=\"simba-message-body\">\n          {isUser ? (\n            <div className=\"simba-message-bubble\">\n              <p>{message.content}</p>\n            </div>\n          ) : message.content ? (\n            <MarkdownContent content={message.content} />\n          ) : isStreaming ? (\n            <span className=\"simba-message-loading\">...</span>\n          ) : null}\n        </div>\n      </div>\n    </div>\n  );\n}\n","import {\n  useRef,\n  useEffect,\n  type KeyboardEvent,\n  type ChangeEvent,\n} from \"react\";\nimport { cn } from \"../utils/cn\";\nimport type { ChatStatus } from \"../types\";\n\ninterface ChatInputProps {\n  value: string;\n  onChange: (value: string) => void;\n  onSubmit: () => void;\n  onStop?: () => void;\n  status?: ChatStatus;\n  placeholder?: string;\n  disabled?: boolean;\n  className?: string;\n}\n\nexport function ChatInput({\n  value,\n  onChange,\n  onSubmit,\n  onStop,\n  status = \"ready\",\n  placeholder = \"Type a message...\",\n  disabled = false,\n  className,\n}: ChatInputProps) {\n  const textareaRef = useRef<HTMLTextAreaElement>(null);\n\n  const isLoading = status === \"submitted\" || status === \"streaming\";\n  const isDisabled = disabled || status === \"submitted\";\n\n  // Auto-resize textarea\n  useEffect(() => {\n    if (textareaRef.current) {\n      textareaRef.current.style.height = \"auto\";\n      textareaRef.current.style.height = `${Math.min(textareaRef.current.scrollHeight, 200)}px`;\n    }\n  }, [value]);\n\n  const handleKeyDown = (e: KeyboardEvent<HTMLTextAreaElement>) => {\n    if (e.key === \"Enter\" && !e.shiftKey) {\n      e.preventDefault();\n      if (!isDisabled && value.trim()) {\n        onSubmit();\n      }\n    }\n  };\n\n  const handleChange = (e: ChangeEvent<HTMLTextAreaElement>) => {\n    onChange(e.target.value);\n  };\n\n  return (\n    <div className={cn(\"simba-input-container\", className)}>\n      <textarea\n        ref={textareaRef}\n        value={value}\n        onChange={handleChange}\n        onKeyDown={handleKeyDown}\n        placeholder={placeholder}\n        disabled={isDisabled}\n        rows={1}\n        className=\"simba-input-textarea\"\n      />\n\n      {status === \"streaming\" && onStop ? (\n        <button\n          type=\"button\"\n          onClick={onStop}\n          className=\"simba-input-button simba-input-button-stop\"\n          aria-label=\"Stop\"\n        >\n          <svg viewBox=\"0 0 24 24\" fill=\"currentColor\" className=\"simba-input-icon\">\n            <rect x=\"6\" y=\"6\" width=\"12\" height=\"12\" rx=\"2\" />\n          </svg>\n        </button>\n      ) : (\n        <button\n          type=\"button\"\n          onClick={onSubmit}\n          disabled={isDisabled || !value.trim()}\n          className=\"simba-input-button simba-input-button-send\"\n          aria-label=\"Send\"\n        >\n          {status === \"submitted\" ? (\n            <svg\n              viewBox=\"0 0 24 24\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              strokeWidth=\"2\"\n              className=\"simba-input-icon simba-input-icon-loading\"\n            >\n              <path d=\"M21 12a9 9 0 1 1-6.219-8.56\" />\n            </svg>\n          ) : (\n            <svg\n              viewBox=\"0 0 24 24\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              strokeWidth=\"2\"\n              className=\"simba-input-icon\"\n            >\n              <path d=\"m22 2-7 20-4-9-9-4Z\" />\n              <path d=\"M22 2 11 13\" />\n            </svg>\n          )}\n        </button>\n      )}\n    </div>\n  );\n}\n","import { useState, type ReactNode } from \"react\";\nimport { cn } from \"../utils/cn\";\nimport { SimbaChat } from \"./SimbaChat\";\nimport type { SimbaChatBubbleProps } from \"../types\";\n\nconst DefaultBubbleIcon = () => (\n  <svg\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth=\"2\"\n    className=\"simba-bubble-icon-svg\"\n  >\n    <path d=\"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z\" />\n  </svg>\n);\n\nconst CloseIcon = () => (\n  <svg\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth=\"2\"\n    className=\"simba-bubble-icon-svg\"\n  >\n    <path d=\"M18 6 6 18\" />\n    <path d=\"m6 6 12 12\" />\n  </svg>\n);\n\nexport function SimbaChatBubble({\n  position = \"bottom-right\",\n  bubbleIcon,\n  defaultOpen = false,\n  className,\n  style,\n  ...chatProps\n}: SimbaChatBubbleProps) {\n  const [isOpen, setIsOpen] = useState(defaultOpen);\n\n  return (\n    <div\n      className={cn(\n        \"simba-bubble-wrapper\",\n        position === \"bottom-left\"\n          ? \"simba-bubble-wrapper-left\"\n          : \"simba-bubble-wrapper-right\",\n        className\n      )}\n      style={style}\n    >\n      {isOpen && (\n        <div className=\"simba-bubble-chat\">\n          <SimbaChat {...chatProps} />\n        </div>\n      )}\n\n      <button\n        type=\"button\"\n        onClick={() => setIsOpen(!isOpen)}\n        className=\"simba-bubble-button\"\n        aria-label={isOpen ? \"Close chat\" : \"Open chat\"}\n      >\n        {isOpen ? <CloseIcon /> : (bubbleIcon || <DefaultBubbleIcon />)}\n      </button>\n    </div>\n  );\n}\n"],"mappings":"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","names":["useState","useRef","useRef","jsx","className","jsx","useRef","useEffect","jsx","jsxs","useRef","useEffect","jsx","jsxs","useState","useState","jsx","jsxs","useState"]}
